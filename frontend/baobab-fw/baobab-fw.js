!function t(n,i,r){function e(a,c){if(!i[a]){if(!n[a]){var u="function"==typeof require&&require;if(!c&&u)return u(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var s=i[a]={exports:{}};n[a][0].call(s.exports,function(t){var i=n[a][1][t];return e(i?i:t)},s,s.exports,t,n,i,r)}return i[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)e(r[a]);return e}({1:[function(t,n,i){n.exports=new function(){function t(){return"uuid-"+((new Date).getTime().toString(16)+Math.floor(1e7*Math.random()).toString(16))}var n={};this.addNewTimer=function(i){var r=t();"string"==typeof i&&(r=i);for(;;)if(!n[r])return n[r]=setTimeout(function(){console.error(r+": 1000msec 待っても返信が得られませんでした。")},1e3),r;return!1},this.clearTimer=function(t){if(n[t]){var i=n[t];return clearTimeout(n[t]),n[t]=null,delete n[t],i}return!1}}},{}],2:[function(t,n,i){n.exports=new function(){function t(){return"uuid-"+((new Date).getTime().toString(16)+Math.floor(1e7*Math.random()).toString(16))}var n={};this.addNewFunction=function(i){if("function"!=typeof i)return!1;for(var r=0;;)if(r=t(),!n["fnc-"+r])return n["fnc-"+r]=i,"fnc-"+r;return!1},this.getCallbackFunction=function(t){if(n[t]){var i=n[t];return n[t]=null,delete n[t],i}return!1},this.callRemoteFunction=function(t,n,i){t.send(n,i)}}},{}],3:[function(t,n,i){window.baobabFw=function(){var n=function(){};return n.prototype.createSocket=function(n,i,r){var e=window.location.origin;return new function(n,i,r,e){_this=this,this.main=n,this.apis=e,this.temporaryApis=t("../../lib/temporaryApis.js"),this.pingApi=t("../../lib/pingApi.js"),_this.socket=i.connect(r),this.send=function(t,n,i){var r={api:t,data:n,callback:_this.temporaryApis.addNewFunction(i)};return r.pingName=_this.pingApi.addNewTimer(r.callback),this.socket.emit("baobab-command",JSON.stringify(r)),this},_this.socket.on("baobab-command",function(t){try{t=JSON.parse(t)}catch(n){}t=t||{},t.api=t.api||"",t.data=t.data||{},t.callback=t.callback||null,t.pingName=t.pingName||null,_this.socket.emit("baobab-pingAnswerCall",t.pingName);var i=_this.temporaryApis.getCallbackFunction(t.api),r=t.callback;!i&&_this.apis[t.api]&&(i=_this.apis[t.api]),i&&i(t.data,function(t){_this.temporaryApis.callRemoteFunction(_this,r,t)},_this.main,_this)}),_this.socket.on("baobab-pingAnswerCall",function(t){_this.pingApi.clearTimer(t)})}(n,i,e,r)},new n}()},{"../../lib/pingApi.js":1,"../../lib/temporaryApis.js":2}]},{},[3]);