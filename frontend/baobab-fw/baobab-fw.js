!function t(n,i,e){function r(a,c){if(!i[a]){if(!n[a]){var u="function"==typeof require&&require;if(!c&&u)return u(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var s=i[a]={exports:{}};n[a][0].call(s.exports,function(t){var i=n[a][1][t];return r(i?i:t)},s,s.exports,t,n,i,e)}return i[a].exports}for(var o="function"==typeof require&&require,a=0;a<e.length;a++)r(e[a]);return r}({1:[function(t,n,i){n.exports=new function(){function t(){return"uuid-"+((new Date).getTime().toString(16)+Math.floor(1e7*Math.random()).toString(16))}var n={};this.addNewTimer=function(i){var e=t();"string"==typeof i&&(e=i);for(;;)if(!n[e])return n[e]=setTimeout(function(){console.error(e+": 1000msec 待っても返信が得られませんでした。")},1e3),e;return!1},this.clearTimer=function(t){if(n[t]){var i=n[t];return clearTimeout(n[t]),n[t]=null,delete n[t],i}return!1}}},{}],2:[function(t,n,i){n.exports=new function(){function t(){return"uuid-"+((new Date).getTime().toString(16)+Math.floor(1e7*Math.random()).toString(16))}var n={};this.addNewFunction=function(i){if("function"!=typeof i)return!1;for(var e=0;;)if(e=t(),!n["fnc-"+e])return n["fnc-"+e]=i,"fnc-"+e;return!1},this.getCallbackFunction=function(t){if(n[t]){var i=n[t];return n[t]=null,delete n[t],i}return!1},this.callRemoteFunction=function(t,n,i){t.send(n,i)}}},{}],3:[function(t,n,i){window.baobabFw=function(){var n=function(){};return n.prototype.createSocket=function(n,i,e){var r=window.location.origin;return new function(n,i,e,r){_this=this,this.main=n,this.apis=r,this.temporaryApis=t("../../lib/temporaryApis.js"),this.pingApi=t("../../lib/pingApi.js"),_this.socket=i.connect(e),this.send=function(t,n,i){var e={api:t,data:n,callback:_this.temporaryApis.addNewFunction(i)};return e.pingName=_this.pingApi.addNewTimer(e.callback),this.socket.emit("baobab-command",e),this},_this.socket.on("baobab-command",function(t){t=t||{},t.api=t.api||"",t.data=t.data||{},t.callback=t.callback||null,t.pingName=t.pingName||null,_this.socket.emit("baobab-pingAnswerCall",t.pingName);var n=_this.temporaryApis.getCallbackFunction(t.api),i=t.callback;!n&&_this.apis[t.api]&&(n=_this.apis[t.api]),n&&n(t.data,function(t){_this.temporaryApis.callRemoteFunction(_this,i,t)},_this.main,_this)}),_this.socket.on("baobab-pingAnswerCall",function(t){_this.pingApi.clearTimer(t)})}(n,i,r,e)},new n}()},{"../../lib/pingApi.js":1,"../../lib/temporaryApis.js":2}]},{},[3]);