!function n(t,i,r){function e(a,c){if(!i[a]){if(!t[a]){var u="function"==typeof require&&require;if(!c&&u)return u(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var f=i[a]={exports:{}};t[a][0].call(f.exports,function(n){var i=t[a][1][n];return e(i?i:n)},f,f.exports,n,t,i,r)}return i[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)e(r[a]);return e}({1:[function(n,t,i){t.exports=new function(){function n(){return"uuid-"+((new Date).getTime().toString(16)+Math.floor(1e7*Math.random()).toString(16))}var t={};this.addNewTimer=function(i){var r=n();"string"==typeof i&&(r=i);for(;;)if(!t[r])return t[r]=setTimeout(function(){console.error(r+": 1000msec 待っても返信が得られませんでした。")},1e3),r;return!1},this.clearTimer=function(n){if(t[n]){var i=t[n];return clearTimeout(t[n]),t[n]=null,delete t[n],i}return!1}}},{}],2:[function(n,t,i){t.exports=new function(){function n(){return"uuid-"+((new Date).getTime().toString(16)+Math.floor(1e7*Math.random()).toString(16))}var t={};this.addNewFunction=function(i){if("function"!=typeof i)return!1;for(var r=0;;)if(r=n(),!t["fnc-"+r])return t["fnc-"+r]=i,"fnc-"+r;return!1},this.getCallbackFunction=function(n){if(t[n]){var i=t[n];return t[n]=null,delete t[n],i}return!1},this.callRemoteFunction=function(n,t,i){n.send(t,i)}}},{}],3:[function(n,t,i){window.biflora=function(){var t=function(){};return t.prototype.createSocket=function(t,i,r){var e=window.location.origin;return new function(t,i,r,e){var o=this;this.main=t,this.apis=e,this.temporaryApis=n("../../lib/temporaryApis.js"),this.pingApi=n("../../lib/pingApi.js"),o.socket=i.connect(r),this.send=function(n,t,i){var r={api:n,data:t,callback:o.temporaryApis.addNewFunction(i)};return r.pingName=o.pingApi.addNewTimer(r.callback),o.socket.emit("biflora-command",JSON.stringify(r)),this},o.socket.on("biflora-command",function(n){try{n=JSON.parse(n)}catch(t){}n=n||{},n.api=n.api||"",n.callback=n.callback||null,n.pingName=n.pingName||null,o.socket.emit("biflora-pingAnswerCall",n.pingName);var i=o.temporaryApis.getCallbackFunction(n.api),r=n.callback;!i&&o.apis[n.api]&&(i=o.apis[n.api]),i&&i(n.data,function(n){o.temporaryApis.callRemoteFunction(o,r,n)},o.main,o)}),o.socket.on("biflora-pingAnswerCall",function(n){o.pingApi.clearTimer(n)})}(t,i,e,r)},new t}()},{"../../lib/pingApi.js":1,"../../lib/temporaryApis.js":2}]},{},[3]);